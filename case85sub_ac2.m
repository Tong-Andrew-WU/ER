function mpcac = case85sub_ac2
%CASE85  Power flow data for 85 bus distribution system
%    Please see CASEFORMAT for details on the case file format.
%
%    Data from ...
%       D. Das, D.P. Kothari, A. Kalam, Simple and efficient method for
%       load flow solution of radial distribution networks, International
%       Journal of Electrical Power & Energy Systems, Volume 17, Issue 5,
%       1995, Pages 335-346.
%       https://doi.org/10.1016/0142-0615(95)00050-0

%% MATPOWER Case Format : Version 2
mpcac.version = '2';

%% system MVA base
mpcac.baseMVA = 10;

%% bus data
% bus_i  type  Pd  Qd  Gs  Bs  area  Vm  Va  baseKV  zone  Vmax  Vmin
mpcac.bus = [
 60  1  0.0560  0.0571  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9 % 60
 63  1  0.0140  0.0143  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9
 64  1  0.0000  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9
 65  1  0.0000  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9
 66  1  0.0560  0.0571  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9
 67  1  0.0000  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9
 68  1  0.0000  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9
 69  1  0.0560  0.0571  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9
 70  1  0.0000  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9
 71  1  0.0353  0.0360  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9
 72  1  0.0560  0.0571  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9
 73  1  0.0000  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9
 74  1  0.0560  0.0571  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9
 75  1  0.0353  0.0360  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9
 76  1  0.0560  0.0571  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9
 77  1  0.0140  0.0143  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9
 79  1  0.0353  0.0360  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9
 94  1  0.0000  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9 % 67 bus R2-R
 95  1  0.0000  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9 % 68 bus R2-R
 96  1  0.0000  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9 % 69 bus R2-R
 97  1  0.0000  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9 % 70 bus R2-R
 98  1  0.0000  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9 % 71 bus R2-R
 99  1  0.0000  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9 % 72 bus R2-L
 100 1  0.0000  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9 % 73 bus R2-L
 101 1  0.0000  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9 % 74 bus R2-L
 102 1  0.0000  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9 % 75 bus R2-L
 103 1  0.0000  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.1  0.9 % 76 bus R2-L
 110 1  0.0000  0.0000  0.0010  0.0000  1  1  0  11.0  1  1.3  0.9 % DC bus D
 111 1  0.0000  0.0000  0.0010  0.0000  1  1  0  11.0  1  1.3  0.9 % DC bus d
 112 1  -0.100  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.3  0.9 % DC bus 1 wind
 113 1   0.400  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.3  0.9 % DC bus 2 load
 114 1  -0.100  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.3  0.9 % DC bus 3 pv
 115 1  -0.100  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.3  0.9 % DC bus 4 pv
 120 1   0.400  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.3  0.9 % DC bus 5 load
 121 1  -0.100  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.3  0.9 % DC bus 6 wind
 122 1  -0.100  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.3  0.9 % DC bus 7 wind
 123 1   0.400  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.3  0.9 % DC bus 8 load
 124 1   0.400  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.3  0.9 % DC bus 9 load
 125 1   0.400  0.0000  0.0000  0.0000  1  1  0  11.0  1  1.3  0.9 % DC bus 10 load
 105 1  0.0000  0.0000  0.0010  0.0000  1  1  0  11.0  1  1.3  0.9 % DC1 bus d
];

% Energe Router 1

% 49 bus,  56 bus, 50 bus, 51 bus
% 52 bus,  53 bus, 54 bus, 55 bus 

% Energe Router 2

% 67 bus,  68 bus, 69 bus, 70 bus, 71 bus
% 72 bus,  73 bus, 74 bus, 75 bus, 76 bus

% Microgrid 

% 

%% generator data
% bus  Pg  Qg  Qmax  Qmin Vg  mBase  status  Pmax  Pmin  Pc1  Pc2  Qc1min  Qc1max  Qc2min  Qc2max  ramp_agc  ramp_10  ramp_30  ramp_q  apf
mpcac.gen = [
  77 0.0000  0.0000    20    -20  1.0000  100  1     20    0 0  0  0  0  0  0  0  0  0  0  0
  94 0.0000  0.0000    20    -20  1.0000  100  1     0     0 0  0  0  0  0  0  0  0  0  0  0
  95 0.0000  0.0000    20    -20  1.0000  100  1     0     0 0  0  0  0  0  0  0  0  0  0  0
  96 0.0000  0.0000    20    -20  1.0000  100  1     0     0 0  0  0  0  0  0  0  0  0  0  0
  97 0.0000  0.0000    20    -20  1.0000  100  1     0     0 0  0  0  0  0  0  0  0  0  0  0
  98 0.0000  0.0000    20    -20  1.0000  100  1     0     0 0  0  0  0  0  0  0  0  0  0  0
  99 0.0000  0.0000    20    -20  1.0000  100  1     0     0 0  0  0  0  0  0  0  0  0  0  0
 100 0.0000  0.0000    20    -20  1.0000  100  1     0     0 0  0  0  0  0  0  0  0  0  0  0
 101 0.0000  0.0000    20    -20  1.0000  100  1     0     0 0  0  0  0  0  0  0  0  0  0  0
 102 0.0000  0.0000    20    -20  1.0000  100  1     0     0 0  0  0  0  0  0  0  0  0  0  0
 103 0.0000  0.0000    20    -20  1.0000  100  1     0     0 0  0  0  0  0  0  0  0  0  0  0
];

%% generator cost data
%	1	startup	shutdown	n	x1	y1	...	xn	yn
%	2	startup	shutdown	n	c(n-1)	...	c0
mpcac.gencost = [
   2    0	0	3	0.2	    2	2; % bus 71
   2	0	0	3	0.00	0	0; % bus 94
   2	0	0	3	0.00	0	0; % bus 95
   2	0	0	3	0.00	0	0; % bus 96
   2	0	0	3	0.00	0	0; % bus 97
   2	0	0	3	0.00	0	0; % bus 98
   2	0	0	3	0.00	0	0; % bus 99
   2	0	0	3	0.00	0	0; % bus 100
   2	0	0	3	0.00	0	0; % bus 101
   2	0	0	3	0.00	0	0; % bus 102
   2	0	0	3	0.00	0	0; % bus 103
];

%% branch data
% fbus  tbus  r  x  b  rateA  rateB  rateC  ratio  angle  status  angmin  angmax
mpcac.branch = [
  60  63  0.01504132  0.00619835  0.00000000  999  999  999  0  0  1  -360  360 %duplicate
  63  64  0.06016529  0.02495868  0.00000000  999  999  999  0  0  1  -360  360
  64  65  0.01504132  0.00619835  0.00000000  999  999  999  0  0  1  -360  360
  65  66  0.01504132  0.00619835  0.00000000  999  999  999  0  0  1  -360  360
  64  67  0.03760331  0.01561983  0.00000000  999  999  999  0  0  1  -360  360
  67  68  0.07520661  0.03123967  0.00000000  999  999  999  0  0  1  -360  360
  68  69  0.09024793  0.03743802  0.00000000  999  999  999  0  0  1  -360  360
  69  70  0.03760331  0.01561983  0.00000000  999  999  999  0  0  1  -360  360
  70  71  0.04512397  0.01867769  0.00000000  999  999  999  0  0  1  -360  360
  67  72  0.01504132  0.00619835  0.00000000  999  999  999  0  0  1  -360  360
  68  73  0.09785124  0.04057851  0.00000000  999  999  999  0  0  1  -360  360
  73  74  0.02256198  0.00933884  0.00000000  999  999  999  0  0  1  -360  360
  73  75  0.08280992  0.03438017  0.00000000  999  999  999  0  0  1  -360  360
  70  76  0.04512397  0.01867769  0.00000000  999  999  999  0  0  1  -360  360
  65  77  0.00752066  0.00305785  0.00000000  999  999  999  0  0  1  -360  360
  67  79  0.04512397  0.01867769  0.00000000  999  999  999  0  0  1  -360  360
  67  94  0.001504132  0.00619835  0.00000000  999  999  999  0  0  1  -360  360 % bus R2-R
  68  95  0.001504132  0.00619835  0.00000000  999  999  999  0  0  1  -360  360 % bus R2-R
  69  96  0.001504132  0.00619835  0.00000000  999  999  999  0  0  1  -360  360 % bus R2-R
  70  97  0.001504132  0.00619835  0.00000000  999  999  999  0  0  1  -360  360 % bus R2-R
  71  98  0.001504132  0.00619835  0.00000000  999  999  999  0  0  1  -360  360 % bus R2-R
  72  99  0.001504132  0.00619835  0.00000000  999  999  999  0  0  1  -360  360 % bus R2-L
  73  100  0.001504132  0.00619835  0.00000000  999  999  999  0  0  1  -360  360 % bus R2-L
  74  101  0.001504132  0.00619835  0.00000000  999  999  999  0  0  1  -360  360 % bus R2-L
  75  102  0.001504132  0.00619835  0.00000000  999  999  999  0  0  1  -360  360 % bus R2-L
  76  103  0.001504132  0.00619835  0.00000000  999  999  999  0  0  1  -360  360 % bus R2-L
  94  110 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % bus DC-Line1
  95  110 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % bus DC-Line2
  96  110 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % bus DC-Line3
  97  110 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % bus DC-Line4
  98  110 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % bus DC-Line5
  99  111 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % bus DC-Line6
  100 111 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % bus DC-Line7
  101  111 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % bus DC-Line8
  102  111 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % bus DC-Line9
  103  111 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % bus DC-Line10
  110  111 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % bus DC-Line11
  111  112 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % bus DC-Line12
  112  113 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % bus DC-Line13
  113  114 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % bus DC-Line14
  113  115 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % bus DC-Line15
  114  115 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % bus DC-Line16
  120  121 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % bus DC-Line17p
  121  114 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % bus DC-Line18p 
  121  124 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % bus DC-Line19p 
  115  122 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % bus DC-Line20p
  122  123 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % bus DC-Line21p 
  122  125 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % bus DC-Line22p
  111  105 0.01000000  0.00000000  0.00000000  999  999  999  0  0  1  -360  360 % dc-dc
];